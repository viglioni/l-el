#+title: CHANGELOG

All notable changes to this project will be documented in this file.

* Unreleased

** Breaking Changes
- =ldef= now requires arrow (=->=) syntax to separate arguments from body
  - Old syntax: =(ldef add (x y) (+ x y))=
  - New syntax: =(ldef add x y -> (+ x y))=
  - This aligns =ldef= with the =l= lambda macro syntax for consistency
  - Pattern matching, type matching, and value matching still work the same way
  - Arguments before =->= are parameter patterns: =x=, =(x :integer)=, =(x 0)=, etc.

** Changed
- Redesigned type specificity system to use lexicographic ordering instead of point-based scoring
  - Prevents multiple category types from outscoring single primitive types
  - Ensures primitive types (=:list=, =:integer=, =:string=) always match before category types (=:sequence=, =:array=, =:number=)
  - Specificity now uses string concatenation: value ("d") > parameterized ("c") > primitive ("b") > category ("a") > wildcard ("0")
  - Example: ="b"= (one primitive) > ="aaa"= (three categories)
- Added =l-instanceof= utility function for checking if an element matches a type (keyword or struct/class)
- Categorized types into =l-generic-primitive-types= and =l-generic-category-types= for proper specificity handling
- Enhanced =l-raise= to support =invalid-rest-parameter= error type
- Improved =&rest= validation in =ldef= to detect misuse in nested argument patterns

* 0.5.0 - 2025-11-26

** Added
- Custom exceptions in =l-exception.el=
- =lpipe= function in =l-functions=
- more type predicates and aliases
  - =:alist= =:plist= =:array= =:sequence= (=:seq=) =:bool-vector= (=:bvector=) =:char-table= (=:ctable=)
  - =:struct= =:object= =:record= =:instance= for cl-defstruct and EIEIO class instances
  - short aliases: =:buff= =:fn= =:int= =:nil= =:str=
- parameterized type matching with =:instance_of=, =:list_of=, and =:list_of_instances=
  - =:instance_of= - matches specific struct/class types: =(x :instance_of point)=
  - =:list_of= - matches lists of specific type keyword: =(nums :list_of :integer)=
  - =:list_of_instances= - matches lists of specific instance type: =(pts :list_of_instances point)=
  - new specificity scoring system: value (1M) > parameterized type (10K) > regular type (100) > wildcard (1)
- custom error types for better error handling:
  - =l-unknown-type-predicate-error= - invalid type predicates
  - =l-invalid-pattern-error= - invalid pattern syntax
  - =l-invalid-rest-parameter-error= - incorrect :rest parameter usage
  - =l-internal-error= - internal library errors
* 0.4.0 - 2025-11-23

** Added
- tests for edge cases wth l-syntax
- =lcomp= with =__= placeholder
* 0.3.3 - 2025-10-12

** Fixed
- l-syntax parse of alists

* 0.3.2 - 2025-07-31
** Added
- =auto-release.yml=  workflow and [[https://github.com/viglioni/l-el/tree/latest-release][latest-release]] branch
* 0.3.1 - 2025-07-31

** Fixed
- =straight.el= load path to library files.
* 0.3.0 - 2025-07-25

** Added
- =l-mode=
- =utilities/lcomp=
- =l-require=

** Fixed
- =with-l= behaviour with =ldef=
  
* 0.2.0 - 2025-07-15
** Added
- =:rest= parameter to =ldef=
- =lcomp= for function composition
- =l-doc= for general =ldef= documentation
** Changed
- Refactored library moving contents to =l-main.el=
- Renamed =l-partial= to =lpartial= for consistency
** Fixed
- =ldef= allowing more parameters than its definitions
- =ldef= allowing =&rest=
- =l-syntax= advices
* 0.1.0 - 2025-07-07
** Added
- Basic structure of the project
- Automatic currying with =ldef=
- Pattern matching with =ldef=
- Type matching with =ldef=
- Partial application with =l-partial=
- Placeholder substitution with =__=
- Custom syntax =with-l=
- Optional syntax transformation via =l-syntax=
